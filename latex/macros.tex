\usepackage{xparse}

\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\set}[1]{\left \{#1 \right \}}
\newcommand{\cbrack}[1]{\left( #1 \right)}
\newcommand{\sbrack}[1]{\left[ #1 \right]}
\newcommand{\abrack}[1]{\left\langle #1 \right\rangle}
\newcommand{\vbrack}[1]{\left| #1 \right|}
\newcommand{\ord}{\normalfont \text{ord}}
\newcommand{\fix}{\normalfont \text{fix}}

\NewDocumentCommand{\pmatrx}{ o m }{%
  \IfNoValueTF{#1}{%
    \begin{pmatrix}#2\end{pmatrix}%
  }{%
    \left( \begin{array}{#1} #2 \end{array} \right)%
  }%
}

\NewDocumentCommand{\vmatrx}{ o m }{%
  \IfNoValueTF{#1}{%
    \begin{vmatrix}#2\end{vmatrix}%
  }{%
    \left| \begin{array}{#1} #2 \end{array} \right|%
  }%
}

\NewDocumentCommand{\matrx}{ o m }{%
  \IfNoValueTF{#1}{%
    \begin{matrix}#2\end{matrix}%
  }{%
    \left \begin{array}{#1} #2 \end{array} \right%
  }%
}

\NewDocumentCommand{\bmatrx}{ o m }{%
  \IfNoValueTF{#1}{%
    \begin{bmatrix}#2\end{bmatrix}%
  }{%
    \left[ \begin{array}{#1} #2 \end{array} \right]%
  }%
}

\NewDocumentCommand{\arr}{ O{c} m }{%
  \begin{array}{#1}#2\end{array}%
}

\NewDocumentCommand{\diff}{O{} m m}{%
  \frac{d^{#1} #2}{d #3^{#1}}%
}

\NewDocumentCommand{\pdiff}{O{} m m}{%
  \frac{\partial^{#1} #2}{\partial #3^{#1}}%
}
